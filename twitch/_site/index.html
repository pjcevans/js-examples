
<!DOCTYPE html>
<html>
<head>
  <style>
  body {
    margin: 0px;
  }
  #container {
    text-align: center;
    font-family: Tahoma, Geneva, sans-serif;
    font-size: large;
    margin: 0px;
    padding: 0px;
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 1000px;

    background-color: #000428; /* fallback for old browsers */
    background: -webkit-linear-gradient(to left, #000428 , #004e92); /* Chrome 10-25, Safari 5.1-6 */
    background: linear-gradient(to left, #000428 , #004e92); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */

    /* Wikipedia image, alternative background style
    background-image: url('https://farm6.staticflickr.com/5331/30475069070_3327f1f844_o_d.png');
    */

    background-position: center top;
  }

  #container > div {
    margin-top: 2%;
  }

  #temperature, #weather, .loc {
    padding: 10px;
    font-size: 1.8em;
    font-family: fantasy;
  }

  h3 {
    margin-bottom: 5px;
  }
  form {
    max-width: 70%;
  }
  a {
  color: #3c903f;
  text-decoration: none;
  }
  a:hover {
  border-bottom: 1px dotted #43A047;
  }
  .centered {
    margin: auto;
  }

  .highlight {
    font-size: 1.4em;
  }
  .hidden {
    display: none;
  }


  #titleBlock {
    text-align: center;
  }

  .metadata {
    color: gray;
    margin-top: 0px;
    font-size: 14px;
  }

  </style>
</head>
<body>
<div id="container">

  <div id="titleBlock">
    <h3>Superior Twitch Status app</h3>
    <p class="metadata">Using the twich API via a cached proxy courtesy of Free Code Camp https://wind-bow.hyperdev.space/twitch-api</p>
  </div>


  <div id="textBlock">
  </div>


</div>
</body>
<script>

var getJSON = function(url) {
  return new Promise(function(resolve, reject) {
    var xhr = new XMLHttpRequest();
    xhr.open('GET', url, true);
    xhr.responseType = 'json';
    xhr.onload = function() {
      var status = xhr.status;
      if (status == 200) {
        resolve(xhr.response);
      } else {
        reject(status);
      }
    };
    xhr.send();
  });
};

var getTwitch = function(text) {
  getJSON('https://crossorigin.me/https://wind-bow.hyperdev.space/twitch-api/channels/test_channel').then(function(data) { // on fullfilled:
    var target = document.getElementById("textBlock");
    var text = document.createElement("div");
    text.innerHTML = data;
    target.appendChild(text);

  }, function(status) { // alert error on rejection:
    alert('Something went wrong.');
  });
};

document.addEventListener("DOMContentLoaded", function(event) {
  getTwitch();
});




</script>
</hmtl>
